context("rbind.smart")

test_that("rbind.smart works", {
	set.seed(123)
	library(stats)
    a <- matrix(rnorm(25), 5, 5)
    colnames(a) <- letters[1:5]
    b <- matrix(rnorm(25), 5, 5)
    colnames(b) <- letters[3:7]

	expected.res <- structure(list(a = c(-0.560475646552213, -0.23017748948328, 1.55870831414912, 
	0.070508391424576, 0.129287735160946, NA, NA, NA, NA, NA), b = c(1.71506498688328, 
	0.460916205989202, -1.26506123460653, -0.686852851893526, -0.445661970099958, 
	NA, NA, NA, NA, NA), c = c(1.22408179743946, 0.359813827057364, 
	0.400771450594052, 0.11068271594512, -0.555841134754075, -1.68669331074241, 
	0.837787044494525, 0.153373117836515, -1.13813693701195, 1.25381492106993
	), d = c(1.78691313680308, 0.497850478229239, -1.96661715662964, 
	0.701355901563686, -0.472791407727934, 0.426464221476814, -0.295071482992271, 
	0.895125661045022, 0.878133487533042, 0.821581081637487), e = c(-1.06782370598685, 
	-0.217974914658295, -1.02600444830724, -0.72889122929114, -0.625039267849257, 
	0.688640254100091, 0.553917653537589, -0.0619117105767217, -0.305962663739917, 
	-0.380471001012383), f = c(NA, NA, NA, NA, NA, -0.694706978920513, 
	-0.207917278019599, -1.26539635156826, 2.16895596533851, 1.20796199830499
	), g = c(NA, NA, NA, NA, NA, -1.12310858320335, -0.402884835299076, 
	-0.466655353623219, 0.779965118336318, -0.0833690664718293)), .Names = c("a", 
	"b", "c", "d", "e", "f", "g"), row.names = c("1", "2", "3", "4", 
	"5", "11", "21", "31", "41", "51"), class = "data.frame")
	res <- rbind.smart(a, b)
	expect_equivalent(res, expected.res)
})
